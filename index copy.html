<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="src copy/style.css" />
    <script src="https://kit.fontawesome.com/71a6d04d89.js" crossorigin="anonymous"></script>
<script src="src copy/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script> 
    <title>Prototype1 Git</title>
  </head>
  <body>
    <div class="container">
  <div class="weatherAppSearch" >
<form 
class="weather-search" 
id="search-form">
  <div class="row">
  <div class="col-7" ></div>
    <div class="col-3" >
      <input 
      type="search" 
      placeholder="Type a city..." 
      class="form-control" 
      id="city-submitted" />
    </div>
<div class="col-2">
  <input 
  type="submit" 
  value="search" 
  class="form-control btn btn-primary" 
  id="submit-form" />
  </form>
  </div>
  </div class="col-12">

      <br />
      <div class="row border">
        <h1 id="city"> </h1> <h1 id="country"></h1>
        
        <div class="col-2">
          <span id="temperature">10</span>
        <span id="units">
              <a href="#"  id="celsius-link">°C |
              <a href="#"  id="fahrenheit-link">°F</a>
            </span>
        </div>
<div class="col-8"></div>
        <div class="col-2" >
          <h3 id="date">Friday</h3></div>
        <div class="col-2"><h2 id="weather">Rain</h2></div>
        <div class="col-8"></div>
        <div class="col-2"><h3></h2></div>
        <div class="col-2"></div>
        <div class="col-8"></div>

<i class="fa-solid fa-cloud-showers-heavy rain-icon"></i>
            <div class="col-2"><h3>Humidity: <span id="humidity"> </span>%</h3></div>
            <div class="col-10"></div>
                <div class="col-2"><h3>Wind: <span id="wind"></span>km/hr</h3></div>
                <div class="col-8"></div>
                 <div class="col-2"><h3></h3></div>
      </div>
      <br />
      <br />
      <br />
      <br />
      <div class="row">
      <div class="row">
        
<div class="col">Monday</div>
<div class="col">Tuesday</div>
<div class="col">Wednesday</div>
<div class="col">Thursday</div>
<div class="col">Friday</div>
      </div>
      <div class="row">
<div class="col">02/01/2022</div>
<div class="col">03/01/2022</div>
<div class="col">04/01/2022</div>
<div class="col">05/01/2022</div>
<div class="col">06/01/2022</div>
      </div>
<br />
<br />
      <div class="row">
<div class="col"><i class="fa-solid fa-sun sun-icon"></i></div>
<div class="col"><i class="fa-solid fa-sun sun-icon"></i></div>
<div class="col"><i class="fa-solid fa-cloud cloud-icon"></i></div>
<div class="col"><i class="fa-solid fa-snowflake snow-icon"></i></div>
<div class="col"><i class="fa-solid fa-snowflake snow-icon"></i></div>
      </div>
 <div class="row">
<div class="col"><h4>25°C</h4></div>
<div class="col"><h4>15°C</h4></div>
<div class="col"><h4>10°C</h4></div>
<div class="col"><h4>-10°C</h4></div>
<div class="col"><h4>-1°C</h4></div>
      </div>
      </div>

    </div>    
<script>

// Display the current time (did not use a function)
let dateElement = document.querySelector("#date");
let currentTime = new Date();
let hours = currentTime.getHours();
if (hours <10) {
  hours = `0${hours}`;
}
let minutes = currentTime.getMinutes();
if (minutes < 10) {
  minutes = `0${minutes}`;
}
let dayIndex = currentTime.getDay();
let days = [
  "Sunday",
  "Monday",
  "Tuesday",
  "Wednesday",
  "Thursday",
  "Friday",
  "Saturday",
];
dateElement.innerHTML = `${days[dayIndex]} ${hours}:${minutes}`;


// Function changing the city
function search(city){
    let apiKey = "7be1b7858b81bbf663eb3e6f25fa5f88";
    let units = "metric";
    let apiURL = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=${units}`;
    axios.get(apiURL).then(showTemperature)
}


  function handleSubmit(event) {
    event.preventDefault();
    let city = document.querySelector("#city-submitted").value;
    search(city)
  
  }
//    let updateCity = document.querySelector("#city-input");
//    let cityInput = document.querySelector("#city-submitted");
//    updateCity.innerHTML = cityInput.value;
    
  let searchForm = document.querySelector("#search-form");
  searchForm.addEventListener("submit", handleSubmit);

// Celsius to Fahrenheit coverter 

//function convertToFahrenheit(event) {
//  event.preventDefault();
//let temperatureElement = document.querySelector("#temperature");
//let temperature = temperatureElement.innerHTML;
//temperatureElement.innerHTML = Math.round(temperature * 9) / 5 + 32
//}

//let fahrenheitLink = document.querySelector("#fahrenheit-link");
//fahrenheitLink.addEventListener("click", convertToFahrenheit);

// Fahrenheit to Celsius converter
//function convertToCelsius(event) {
//  let temperatureElement = document.querySelector("#temperature");
//temperature = temperatureElement.innerHTML;
//temperatureElement.innerHTML = Math.round(temperature - 32) * (5/9)
//}

//let celsiusLink = document.querySelector("#celsius-link");
//celsiusLink.addEventListener("click", convertToCelsius);

// city weather search engine


function showTemperature(response) {
  console.log(response.data.name)
  document.querySelector("#city").innerHTML = response.data.name;
  document.querySelector("#country").innerHTML = response.data.sys.country;
  document.querySelector("#temperature").innerHTML = (Math.round(response.data.main.temp));
  document.querySelector("#weather").innerHTML = response.data.weather[0].main;
  document.querySelector("#humidity").innerHTML = response.data.main.humidity;
  document.querySelector("#wind").innerHTML = (Math.round(response.data.wind.speed));
  console.log(response.data)
}
  //let cityTemperature = (Math.round(response.data.main.temp))
//  console.log(response)
//  let displayTemperature = document.querySelector("#temperature")
//  displayTemperature.innerHTML = `${cityTemperature}`;
//  let city = (response.data.name);
//  let country = (response.data.sys.country);
//  let displayCity = document.querySelector("#city-input")
//  displayCity.innerHTML = `${city}, ${country}`;

search ("Barcelona");



</script>
  </body>
</html>

